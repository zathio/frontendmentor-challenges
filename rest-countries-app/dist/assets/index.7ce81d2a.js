const e={base:()=>`\n        <div class="flex flex-col sm:flex-row sm:items-center gap-4 justify-between pb-5 md:pb-10 text-sm">\n            <label for="search" class="relative w-full max-w-[29rem] text-gray-dark dark:text-gray-light">\n                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 select-none pointer-events-none absolute left-7 top-1/2 -translate-y-1/2" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />\n                </svg>\n                <input type="search" id="search" placeholder="Search for a country..." class="rounded-md shadow-md bg-gray-light dark:bg-blue-light py-4 px-5 pl-[4.5rem] w-full placeholder-current outline-none ring-gray-dark/40 dark:ring-gray-light/40 hover:bg-gray-dark/10 dark:hover:bg-gray-light/10 active:bg-gray-dark/10 dark:active:bg-gray-light/10 active:ring-2 focus:ring-2 duration-100 disabled:cursor-not-allowed disabled:hover:!bg-gray-light dark:disabled:hover:!bg-blue-light disabled:active:ring-0" disabled>\n            </label>\n            <div id="filter" class="relative w-48 flex-shrink-0">\n                <button class="flex items-center justify-between select-none rounded-md shadow-md bg-gray-light dark:bg-blue-light py-4 px-5 w-full ring-gray-dark/40 dark:ring-gray-light/40 hover:bg-gray-dark/10 dark:hover:bg-gray-light/10 active:bg-gray-dark/10 dark:active:bg-gray-light/10 active:ring-2 focus:ring-2 outline-none duration-100 disabled:cursor-not-allowed disabled:hover:!bg-gray-light dark:disabled:hover:!bg-blue-light disabled:active:ring-0" disabled>\n                    <span id="name" data-region="">Filter by Region</span>\n                    <svg id="icon" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 duration-100 -mr-px" viewBox="0 0 20 20" fill="currentColor">\n                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />\n                    </svg>\n                </button>\n                <ul id="filter-list" class="invisible opacity-0 duration-100 absolute z-10 top-full left-0 mt-2 w-full rounded-md shadow-md bg-gray-light dark:bg-blue-light py-3">\n                    ${e.option("All")}\n                </ul>\n            </div>\n        </div>\n        <ul id="countries-list" class="list-none px-3 sm:px-0 grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 xl:gap-16 relative before:content-[attr(data-no-result)] before:text-lg before:absolute before:left-3 !sm:before:left-0 before:top-0 before:z-[-1]">\n            ${'\n                <li class="block rounded-md overflow-hidden bg-gray-light dark:bg-blue-light shadow-md h-[22rem] animate-pulse">\n                    <div class="bg-gray-dark/60 w-full h-[47%]"></div>\n                    <div class="p-6">\n                        <div class="w-1/3 h-5 bg-gray-dark/60 rounded-sm"></div>\n                        <div class="text-sm space-y-3 mt-6">\n                            <div class="w-2/3 h-3.5 bg-gray-dark/60 rounded-sm"></div>\n                            <div class="w-[40%] h-3.5 bg-gray-dark/60 rounded-sm"></div>\n                            <div class="w-1/2 h-3.5 bg-gray-dark/60 rounded-sm"></div>\n                        </div>\n                    </div>\n                </li>\n            '.repeat(12)}\n        </ul>\n    `,card:e=>`\n        <li>\n            <a href="/${e.name.common}" data-link data-country="${e.name.common}" data-region="${e.region}" class="block h-[22rem] rounded-md overflow-hidden outline-none bg-gray-light dark:bg-blue-light shadow-md hover:bg-gray-dark/10 hover:-translate-y-1 will-change dark:hover:bg-gray-light/10 active:bg-gray-dark/20 dark:active:bg-gray-light/20 active:translate-y-0 ring-gray-dark/40 dark:ring-gray-light/40 focus-visible:ring duration-100">\n                <img src="${e.flags.svg}" alt="Flag" loading="lazy" class="w-full h-1/2 lg:h-[47%] object-cover bg-gray-dark/60">\n                <div class="p-6">\n                    <p class="font-bold text-lg whitespace-nowrap overflow-hidden overflow-ellipsis">${e.name.common}</p>\n                    <ul class="text-sm space-y-1.5 mt-4">\n                        <li>\n                            <span class="font-semibold">Population:</span>\n                            ${e.population.toLocaleString("en-US")||"Unknown"}\n                        </li>\n                        <li>\n                            <span class="font-semibold">Region:</span>\n                            ${e.region||"Unknown"}\n                        </li>\n                        <li>\n                            <span class="font-semibold">Capital:</span>\n                            ${e.capital||"Unknown"}\n                        </li>\n                    </ul>\n                </div>\n            </a>\n        </li>\n    `,option:e=>`\n        <li>\n            <button data-region="${e}" class="block w-full text-left select-none py-1 px-5 hover:bg-gray-dark/10 dark:hover:bg-gray-light/10 active:bg-gray-dark/20 dark:active:bg-gray-light/20 duration-100">${e}</button>\n        </li>\n    `};const n=()=>'\n        <a href="/" data-link class="inline-flex items-center select-none rounded-md shadow-md bg-gray-light dark:bg-blue-light my-6 py-1.5 lg:py-2 px-8 lg:px-10 ring-gray-dark/40 dark:ring-gray-light/40 hover:bg-gray-dark/10 dark:hover:bg-gray-light/10 active:bg-gray-dark/10 dark:active:bg-gray-light/10 active:ring-2 focus:ring-2 outline-none duration-100 text-lg">\n            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />\n            </svg>\n            <span>Back</span>\n        </a>\n        <div class="px-3 sm:px-0 lg:flex lg:justify-between lg:items-center lg:gap-x-20 xl:gap-x-32 mt-10 animate-pulse">\n            <div class="lg:w-1/2 max-w-sm lg:max-w-full shadow-lg lg:mx-auto mb-14 lg:mb-0 bg-gray-dark/60" style="aspect-ratio: 4/3"></div>\n            <div class="lg:w-1/2">\n                <div class="w-36 h-8 bg-gray-dark/60 rounded-sm"></div>\n                <div class="grid sm:grid-cols-2 gap-x-6 justify-between mt-10 mb-14">\n                    <div class="space-y-3">\n                        <div class="w-[58%] h-5 bg-gray-dark/60 rounded-sm"></div>\n                        <div class="w-[69%] h-5 bg-gray-dark/60 rounded-sm"></div>\n                        <div class="w-[38%] h-5 bg-gray-dark/60 rounded-sm"></div>\n                        <div class="w-[80%] h-5 bg-gray-dark/60 rounded-sm"></div>\n                        <div class="w-[42%] h-5 bg-gray-dark/60 rounded-sm"></div>\n                    </div>\n                    <div class="mt-10 lg:mt-0 space-y-3">\n                        <div class="w-[62%] h-5 bg-gray-dark/60 rounded-sm"></div>\n                        <div class="w-[45%] h-5 bg-gray-dark/60 rounded-sm"></div>\n                        <div class="w-[89%] h-5 bg-gray-dark/60 rounded-sm"></div>\n                    </div>\n                </div>\n                <div class="w-[90%] h-5 bg-gray-dark/60 rounded-sm"></div>\n                <div class="w-[40%] h-5 bg-gray-dark/60 rounded-sm mt-4"></div>\n            </div>\n        </div>\n    ',a=e=>`\n        <div class="px-3 sm:px-0 lg:grid lg:grid-cols-2 lg:justify-between lg:items-center lg:gap-x-20 xl:gap-x-32 mt-10">\n            <img src="${e.flags.svg}" alt="Flag" class="w-full max-w-sm lg:max-w-full object-cover shadow-lg bg-gray-dark/60 lg:mx-auto mb-14 lg:mb-0" style="aspect-ratio: 4/3">\n            <div>\n                <h1 class="font-bold text-[2rem]">${e.name.common}</h1>\n                <div class="grid sm:grid-cols-2 gap-x-6 justify-between mt-6 mb-16">\n                    <ul class="space-y-2">\n                        <li>\n                            <span class="font-semibold">Native Name:</span>\n                            ${r(e.name.nativeName)}\n                        </li>\n                        <li>\n                            <span class="font-semibold">Population:</span>\n                            ${r(e.population.toLocaleString("en-US"))}\n                        </li>\n                        <li>\n                            <span class="font-semibold">Region:</span>\n                            ${r(e.region)}\n                        </li>\n                        <li>\n                            <span class="font-semibold">Sub Regions:</span>\n                            ${r(e.subregion)}\n                        </li>\n                        <li>\n                            <span class="font-semibold">Capital:</span>\n                            ${r(e.capital)}\n                        </li>\n                    </ul>\n                    <ul class="mt-10 lg:mt-0 space-y-2">\n                        <li>\n                            <span class="font-semibold">Top Level Domain:</span>\n                            ${r(e.tld)}\n                        </li>\n                        <li>\n                            <span class="font-semibold">Currencies:</span>\n                            ${r(e.currencies)}\n                        </li>\n                        <li>\n                            <span class="font-semibold">Languages:</span>\n                            ${r(e.languages)}\n                        </li>\n                    </ul>\n                </div>\n                <div>\n                    <span class="font-semibold mr-4 sm:float-left">Border Countries:</span>\n                    <div id="border-box" class="mt-3 md:mt-6">${e.borders}</div>\n                </div>\n            </div>\n        </div>\n    `,t=e=>`\n        <a href="${e.name.common}" data-link class="inline-block mb-2 sm:-mt-1 text-center rounded-md shadow-md bg-gray-light dark:bg-blue-light whitespace-nowrap px-2 w-[6.6rem] h-8 leading-8 overflow-hidden overflow-ellipsis ring-gray-dark/40 dark:ring-gray-light/40 hover:bg-gray-dark/10 dark:hover:bg-gray-light/10 active:bg-gray-dark/10 dark:active:bg-gray-light/10 active:ring-2 focus:ring-2 outline-none duration-100 mr-1.5">${e.name.common}</a>\n    `;function r(e){return e?e.name||e.common?e.name||e.common:Array.isArray(e)?e.map((e=>r(e))).join(", "):"object"==typeof e?[...new Set(Object.values(e).map((e=>r(e))))].join(", "):e:"Unknown"}var l=e=>{e.innerHTML=n(),fetch("https://restcountries.com/v3.1/name"+location.pathname).then((e=>e.json())).then((async n=>{var l;n[0].borders=await(l=n[0].borders,l?fetch("https://restcountries.com/v3.1/alpha?codes="+l).then((e=>e.json())).then((e=>e.map((e=>t(e))).join(""))).catch((e=>(console.error(e),"Unknown"))):r(l)),e.children[1].remove(),e.insertAdjacentHTML("beforeend",a(n[0]).trim())})).catch((e=>{console.error(e),document.querySelector("[href='/']").click()}))};const s=document.querySelector("#app");function i(){document.title=decodeURI(location.pathname.charAt(1).toUpperCase()+location.pathname.slice(2))||"Countries App","/"===location.pathname?(n=>{n.innerHTML=e.base();let a=n.querySelector("#search"),t=n.querySelector("#countries-list"),r=n.querySelector("#filter"),l=r.querySelector("#name"),s=r.querySelector("#filter-list"),i=[];const o=e=>e.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"");function d(){[...t.children].forEach((e=>{o(e.firstElementChild.dataset.country).includes(o(a.value))&&o(e.firstElementChild.dataset.region).includes(o("All"===l.dataset.region?"":l.dataset.region))?e.classList.remove("hidden"):e.classList.add("hidden")}))}a.addEventListener("input",d),window.addEventListener("click",(e=>{r.contains(e.target)?(e.target.matches("button[data-region]")&&(l.textContent=e.target.textContent,l.dataset.region=e.target.dataset.region,d()),r.classList.toggle("show")):r.classList.remove("show")})),fetch("https://restcountries.com/v3.1/all").then((e=>e.json())).then((n=>{t.innerHTML="",t.dataset.noResult="No results found",n.forEach((n=>{t.insertAdjacentHTML("beforeend",e.card(n).trim()),!i.includes(n.region)&&i.push(n.region)})),i.sort()&&i.forEach((n=>n&&s.insertAdjacentHTML("beforeend",e.option(n).trim()))),a.disabled=!1,r.firstElementChild.disabled=!1})).catch(console.error)})(s):(l(s),history.replaceState("","",document.title))}window.addEventListener("click",(e=>{e.target.closest("a[data-link]")&&(e.preventDefault(),history.pushState("","",e.target.closest("a[data-link]").href),i())})),window.addEventListener("popstate",i),window.addEventListener("DOMContentLoaded",i);const o=document.querySelector("#theme-toggle"),d=document.documentElement;o.addEventListener("input",(()=>{d.style.setProperty("--dur","0s"),d.classList.toggle("dark"),setTimeout((()=>d.style.setProperty("--dur",".1s")),100),localStorage.theme=d.classList.contains("dark")?"dark":null}));
